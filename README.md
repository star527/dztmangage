# 东真图管理系统

这是一个基于 Ant Design v5.27.0、React 和 Vite 的管理后台项目，使用 SQLite 作为数据库。

## 项目结构

```
src/
├── components/          # 公共组件
├── pages/               # 页面组件
├── routes/              # 路由配置
├── database/            # 数据库相关
├── utils/               # 工具函数
├── App.css             # 全局样式
└── main.jsx            # 入口文件
```

## 功能模块

1. **登录界面**
   - 用户名密码登录
   - 记住我功能

2. **主布局框架**
   - 左侧菜单导航（可伸缩）
   - 右侧内容区域
   - 顶部用户信息（头像+用户名，可退出登录）

3. **图片分类管理**
   - 分类列表展示
   - 新增、编辑、删除功能
   - 搜索功能
   - 删除时提示用户先删除该分类下所有图片

4. **图片管理**
   - 图片列表展示
   - 新增、编辑、删除功能
   - 搜索功能（按图片分类、图片名称）
   - 全选、批量删除功能
   - 删除图片时同时删除上传的图片文件
   - 编辑图片时删除旧图片

5. **角色管理**
   - 角色列表展示
   - 新增、编辑、删除功能
   - 搜索功能
   - 删除时提示用户先删除该角色下所有用户

6. **用户管理**
   - 用户列表展示
   - 新增、编辑、删除功能
   - 搜索功能（按角色分类、用户名称）
   - 全选、批量删除功能
   - 重置密码功能
   - 编辑用户时可选择角色
   - 编辑用户时需填写旧密码和新密码

## 数据库设计

- **image_categories**: 图片分类表
- **images**: 图片表
- **roles**: 角色表
- **users**: 用户表

## 安装与运行

```bash
# 安装依赖
npm install

# 安装Ant Design兼容包（解决React 19兼容性问题）
npm install @ant-design/compatible

# 启动开发服务器
npm run dev
```

## React 19 兼容性说明

本项目使用 React 19，与 Ant Design v5 存在兼容性问题。我们已通过以下方式解决：

1. 在 `src/main.jsx` 中添加了 `unstableSetRender` 配置
2. 安装了 `@ant-design/compatible` 兼容包

如遇到兼容性问题，请参考 [Ant Design 官方兼容性指南](https://ant-design.antgroup.com/docs/react/v5-for-19-cn)。

## 默认数据

- **图片分类**: 乾、坤、成人、儿童、乾字、坤字
- **角色**: 管理员、会员
- **默认密码**: dzt123
